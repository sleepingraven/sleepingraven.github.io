<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="计算机操作系统, 树梢">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>计算机操作系统 | 树梢</title>
    <link rel="icon" type="image/svg+xml" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/icon_apache.svg">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/css/my.css">

    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="树梢" type="application/atom+xml">
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/icon_apache.svg" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">树梢</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/icon_apache.svg" class="logo-img circle responsive-img">
        
        <div class="logo-name">树梢</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/sleepingraven" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Follow me on Github
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/sleepingraven" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Follow me on Github" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/featureimages/23.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">计算机操作系统</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/computer/">
                                <span class="chip bg-color">计算机</span>
                            </a>
                        
                            <a href="/tags/operating-system/">
                                <span class="chip bg-color">操作系统</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/notes/" class="post-category">
                                笔记
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-01-21
                </div>
                

                

                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    29 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="操作系统引论"><a href="# 操作系统引论" class="headerlink" title="操作系统引论"></a>操作系统引论 </h2><h3 id="操作系统的目标"><a href="# 操作系统的目标" class="headerlink" title="操作系统的目标"></a> 操作系统的目标</h3><ul>
<li>方便性</li>
<li>有效性</li>
<li>可扩充性</li>
<li>开放性</li>
</ul>
<h3 id="操作系统的作用"><a href="# 操作系统的作用" class="headerlink" title="操作系统的作用"></a>操作系统的作用</h3><ul>
<li><p>作为用户与计算机硬件系统之间的接口</p>
<ul>
<li>命令接口</li>
<li>程序接口（系统调用）</li>
<li>图形接口</li>
</ul>
</li>
<li><p>作为计算机系统资源的管理者</p>
<ul>
<li>处理机</li>
<li>存储器</li>
<li>I/O 设备</li>
<li>文件（数据和程序）</li>
</ul>
</li>
<li><p>实现了对计算机资源的抽象</p>
<ul>
<li>扩充机器</li>
</ul>
</li>
</ul>
<h3 id="推动操作系统发展的主要动力"><a href="# 推动操作系统发展的主要动力" class="headerlink" title="推动操作系统发展的主要动力"></a>推动操作系统发展的主要动力</h3><ul>
<li>不断提高计算机资源利用率</li>
<li>方便用户</li>
<li>器件的不断更新迭代</li>
<li>计算机体系结构的不断发展</li>
<li>不断提出新的应用需求（嵌入式等）</li>
</ul>
<h3 id="操作系统的发展过程"><a href="# 操作系统的发展过程" class="headerlink" title="操作系统的发展过程"></a>操作系统的发展过程</h3><ul>
<li><p>未配置操作系统的计算机系统</p>
<ul>
<li><p>人工操作方式</p>
<ul>
<li>串行</li>
<li>用户独占全机</li>
<li>CPU 等待人工操作</li>
<li>人机矛盾</li>
</ul>
</li>
<li><p>脱机输入 / 输出（Off-Line I/O）方式</p>
<ul>
<li><p>并行</p>
</li>
<li><p>假脱机</p>
</li>
<li><p>优势</p>
<ul>
<li>减少了 CPU 的空闲时间（外围机）</li>
<li>提高了 I/O 速度（高速磁带）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>单道批处理系统</p>
<ul>
<li><p>处理过程</p>
<ul>
<li>监督程序</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>自动</li>
<li>顺序</li>
<li>单道</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>系统中的资源得不到充分利用</li>
</ul>
</li>
</ul>
</li>
<li><p>多道批处理系统（Multiprogrammed Batch Processing System）</p>
<ul>
<li><p>基本概念</p>
<ul>
<li>后备队列</li>
<li>就绪队列</li>
<li>作业调度程序</li>
<li>调度算法</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li>多道</li>
<li>无序</li>
<li>调度</li>
</ul>
</li>
<li><p>优缺点</p>
<ul>
<li>资源利用率高</li>
<li>系统吞吐量大</li>
<li>平均周转时间长</li>
<li>无交互能力</li>
</ul>
</li>
<li><p>解决问题</p>
<ul>
<li>处理机争用问题</li>
<li>内存分配和保护问题</li>
<li>I/O 设备分配问题</li>
<li>文件的组织和管理问题</li>
<li>作业管理问题</li>
<li>用户与系统的接口问题</li>
</ul>
</li>
<li><p>引入操作系统定义</p>
<ul>
<li><p>应在计算机系统中增加一组软件，用以对上述问题进行妥善、有效的处理。</p>
</li>
<li><p>这组软件应包括</p>
<ul>
<li>能有效地组织和管理四大资源地软件</li>
<li>合理地对各类作业进行调度和控制它们运行的软件</li>
<li>方便用户使用计算机的软件</li>
</ul>
</li>
<li><p>操作系统是一组能有效地组织和管理计算机硬件和软件资源，合理地对各类作业进行调度，以及方便用户使用的程序的集合。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>分时系统</p>
<ul>
<li><p>引入</p>
<ul>
<li>人——机交互</li>
<li>共享主机</li>
<li>分时系统是指：在一台主机上连接了多个配有显示器和键盘的终端并由此所组成的系统，该系统允许多个用户同时通过自己的终端，以交互的方式使用计算机，共享主机中的资源。</li>
</ul>
</li>
<li><p>问题</p>
<ul>
<li><p>及时接收</p>
<ul>
<li>多路卡</li>
<li>终端缓冲区</li>
</ul>
</li>
<li><p>及时处理</p>
<ul>
<li>作业直接进入内存</li>
<li>轮转运行</li>
</ul>
</li>
</ul>
</li>
<li><p>特征</p>
<ul>
<li>多路性</li>
<li>独立性</li>
<li>及时性</li>
<li>交互性</li>
</ul>
</li>
</ul>
</li>
<li><p>实时系统</p>
<ul>
<li><p>指系统能及时相应外部事件的请求，在规定时间内完成对该事件的处理，并控制所有实时任务协调一致地运行。</p>
</li>
<li><p>类型</p>
<ul>
<li>工业（武器）控制系统</li>
<li>信息查询系统</li>
<li>多媒体系统</li>
<li>嵌入式系统</li>
</ul>
</li>
<li><p>实时任务的类型</p>
<ul>
<li>周期性实时任务和非周期性实时任务</li>
<li>硬实时任务（HRT）和软实时任务（SRT）</li>
</ul>
</li>
<li><p>与分时系统特征的比较</p>
<ul>
<li>多路性</li>
<li>独立性</li>
<li>及时性</li>
<li>交互性</li>
<li>可靠性</li>
</ul>
</li>
</ul>
</li>
<li><p>微机操作系统的发展</p>
<ul>
<li>单用户单任务 OS</li>
<li>单用户多任务 OS</li>
<li>多用户多任务 OS</li>
</ul>
</li>
</ul>
<h3 id="操作系统的基本特征"><a href="# 操作系统的基本特征" class="headerlink" title="操作系统的基本特征"></a>操作系统的基本特征</h3><ul>
<li><p>并发</p>
<ul>
<li>多个进程之间可以并发执行和交换信息</li>
</ul>
</li>
<li><p>共享</p>
<ul>
<li>互斥共享</li>
<li>同时访问</li>
</ul>
</li>
<li><p>虚拟</p>
<ul>
<li><p>时分复用技术</p>
<ul>
<li>虚拟处理机技术</li>
<li>虚拟设备技术</li>
<li>多道程序技术</li>
</ul>
</li>
<li><p>空分复用技术</p>
<ul>
<li><p>虚拟存储技术</p>
<ul>
<li>逻辑上扩大存储容量</li>
<li>单纯的空分复用存储器只能提高内存的利用率</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>异步</p>
<ul>
<li>不可预知</li>
<li>进程同步机制</li>
</ul>
</li>
</ul>
<h3 id="操作系统的主要功能"><a href="# 操作系统的主要功能" class="headerlink" title="操作系统的主要功能"></a>操作系统的主要功能</h3><ul>
<li><p>处理机管理功能</p>
<ul>
<li>进程控制</li>
<li>进程同步</li>
<li>进程通信</li>
<li>调度</li>
</ul>
</li>
<li><p>存储器管理功能</p>
<ul>
<li>内存分配</li>
<li>内存保护</li>
<li>地址映射</li>
<li>内存扩充</li>
</ul>
</li>
<li><p>设备管理功能</p>
<ul>
<li>缓冲管理</li>
<li>设备分配</li>
<li>设备处理</li>
</ul>
</li>
<li><p>文件管理功能</p>
<ul>
<li>文件存储空间的管理</li>
<li>目录管理</li>
<li>文件的读 / 写管理和保护</li>
</ul>
</li>
<li><p>OS 与用户之间的接口</p>
<ul>
<li><p>用户接口</p>
<ul>
<li>联机用户接口</li>
<li>脱机用户接口</li>
<li>图形用户接口</li>
</ul>
</li>
<li><p>程序接口</p>
</li>
</ul>
</li>
<li><p>现代 OS 的新功能</p>
<ul>
<li><p>系统安全</p>
<ul>
<li>认证技术</li>
<li>密码技术</li>
<li>访问控制技术</li>
<li>反病毒技术</li>
</ul>
</li>
<li><p>网络的功能和服务</p>
<ul>
<li>网络通信</li>
<li>资源管理</li>
<li>应用互操作</li>
</ul>
</li>
<li><p>支持多媒体</p>
<ul>
<li>接纳控制功能</li>
<li>实时调度</li>
<li>多媒体文件的存储</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="OS 结构设计"><a href="#OS 结构设计" class="headerlink" title="OS 结构设计"></a>OS 结构设计</h3><ul>
<li><p>传统 OS 结构</p>
<ul>
<li>无结构 OS</li>
<li>模块化结构 OS</li>
<li>分层式 OS</li>
</ul>
</li>
<li><p>C/S 模式简介</p>
<ul>
<li>由来、组成和类型</li>
<li>交互</li>
<li>优点</li>
</ul>
</li>
<li><p>OOP 技术简介</p>
<ul>
<li>基本概念</li>
<li>优点</li>
</ul>
</li>
<li><p>微内核 OS 结构</p>
<ul>
<li><p>基本概念</p>
<ul>
<li><p>足够小的内核</p>
</li>
<li><p>基于 C/S 模式</p>
<ul>
<li>消息传递</li>
</ul>
</li>
<li><p>应用“机制与策略分离”原理</p>
</li>
<li><p>采用 OO 技术</p>
</li>
</ul>
</li>
<li><p>基本功能</p>
<ul>
<li>进程（线程）管理</li>
<li>低级存储器管理</li>
<li>中断和陷入处理</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li>提高了系统的可扩展性</li>
<li>增强了系统的可靠性</li>
<li>可移植性强</li>
<li>提供了对分布式系统的支持</li>
<li>融入了 OO 技术</li>
</ul>
</li>
<li><p>存在的问题</p>
<ul>
<li><p>效率降低</p>
<ul>
<li>可以重新把一些常用的 OS 基本功能有服务器移入微内核中</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="进程的描述与控制"><a href="# 进程的描述与控制" class="headerlink" title="进程的描述与控制"></a>进程的描述与控制 </h2><h3 id="程序执行"><a href="# 程序执行" class="headerlink" title="程序执行"></a> 程序执行</h3><ul>
<li><p>程序顺序执行</p>
<ul>
<li>顺序性</li>
<li>封闭性</li>
<li>可再现性</li>
</ul>
</li>
<li><p>程序并发执行</p>
<ul>
<li>间断性</li>
<li>失去封闭性</li>
<li>不可再现性</li>
</ul>
</li>
</ul>
<h3 id="进程的描述"><a href="# 进程的描述" class="headerlink" title="进程的描述"></a>进程的描述</h3><ul>
<li><p>定义</p>
<ul>
<li><p>引入</p>
<ul>
<li>为了使程序并发执行，并且可以对并发执行的程序加以描述和控制</li>
</ul>
</li>
<li><p>进程实体</p>
<ul>
<li><p>程序段</p>
</li>
<li><p>相关的数据段</p>
</li>
<li><p>PCB</p>
<ul>
<li>描述进程的基本状况和活动过程，系统进而控制和管里进程</li>
</ul>
</li>
</ul>
</li>
<li><p>定义</p>
<ul>
<li><p>传统</p>
</li>
<li><p>引入进程实体</p>
<ul>
<li>进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>特征</p>
<ul>
<li>动态性</li>
<li>并发性</li>
<li>独立性</li>
<li>异步性</li>
</ul>
</li>
<li><p>进程的基本状态及转换</p>
</li>
<li><p>进程管理中的数据结构</p>
<ul>
<li><p>OS 中用于管理控制的数据结构</p>
</li>
<li><p>PCB</p>
<ul>
<li><p>记录了 OS 所需的，用于描述进程的当前情况以及管理进程运行的全部信息，是 OS 中最重要的记录型数据结构。</p>
</li>
<li><p>PCB 的作用是使一个在多道程序环境下不能独立运行的程序（含数据）成为一个能独立运行的基本单位，一个能与其他进程并发执行的进程。</p>
<ul>
<li>作为独立运行基本单位的标志</li>
<li>能实现间断性运行方式</li>
<li>提供进程管理所需要的信息</li>
<li>提供进程调度所需要的信息</li>
<li>实现与其他进程的同步与通信</li>
</ul>
</li>
</ul>
</li>
<li><p>PCB 中的信息</p>
<ul>
<li><p>进程标识符</p>
<ul>
<li>外部标识符</li>
<li>内部标识符</li>
</ul>
</li>
<li><p>处理机状态</p>
<ul>
<li>通用寄存器</li>
<li>指令寄存器</li>
<li>程序状态字 PSW</li>
<li>用户栈指针</li>
</ul>
</li>
<li><p>进程调度信息</p>
<ul>
<li>进程状态</li>
<li>进程优先级</li>
<li>进程调度所需的其他信息</li>
<li>事件</li>
</ul>
</li>
<li><p>进程控制信息</p>
<ul>
<li>程序和数据的地址</li>
<li>进程同步和通信机制</li>
<li>资源清单</li>
<li>链接指针</li>
</ul>
</li>
</ul>
</li>
<li><p>PCB 的组织方式</p>
<ul>
<li>线性方式</li>
<li>链接方式</li>
<li>索引方式</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="进程控制"><a href="# 进程控制" class="headerlink" title="进程控制"></a>进程控制</h3><ul>
<li><p>OS 内核</p>
<ul>
<li><p>将一些与硬件紧密相关的模块、各种常用设备的驱动程序以及运行频率较高的模块，安排在紧靠硬件的软件层次中，常驻内存。</p>
<ul>
<li>便于对这些软件进行保护，防止遭受其他应用程序的破坏</li>
<li>可以提高 OS 的运行效率</li>
</ul>
</li>
<li><p>功能</p>
<ul>
<li><p>支撑功能</p>
<ul>
<li><p>中断处理</p>
</li>
<li><p>时钟管理</p>
</li>
<li><p>原语操作</p>
<ul>
<li>原语是由若干条指令组成的、用于完成一定功能的一个过程</li>
</ul>
</li>
</ul>
</li>
<li><p>资源管理功能</p>
<ul>
<li>进程管理</li>
<li>存储器管理</li>
<li>设备管理</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>进程的创建</p>
<ul>
<li><p>进程的层次结构、进程图</p>
</li>
<li><p>引起创建进程的事件</p>
<ul>
<li>用户登录</li>
<li>作用调度</li>
<li>提供服务</li>
<li>应用请求</li>
</ul>
</li>
<li><p>进程的创建</p>
</li>
</ul>
</li>
<li><p>进程的终止</p>
<ul>
<li><p>引起进程终止的事件</p>
<ul>
<li><p>正常结束</p>
</li>
<li><p>异常结束</p>
<ul>
<li>越界错</li>
<li>保护错</li>
<li>非法指令</li>
<li>特权指令错</li>
<li>运行超时</li>
<li>等待超时</li>
<li>算术运算错</li>
<li>I/O 故障</li>
</ul>
</li>
<li><p>外界干预</p>
<ul>
<li>操作员或 OS 干预</li>
<li>父进程请求</li>
<li>因父进程终止</li>
</ul>
</li>
</ul>
</li>
<li><p>进程的终止过程</p>
</li>
</ul>
</li>
<li><p>进程的阻塞与唤醒</p>
<ul>
<li><p>引起进程阻塞和唤醒的事件</p>
<ul>
<li>向系统请求共享资源失败</li>
<li>等待某种操作的完成</li>
<li>新数据尚未到达</li>
<li>等待新任务的到达</li>
</ul>
</li>
<li><p>进程阻塞过程</p>
</li>
<li><p>进程唤醒过程</p>
</li>
</ul>
</li>
<li><p>进程的挂起与激活</p>
</li>
</ul>
<h3 id="进程同步"><a href="# 进程同步" class="headerlink" title="进程同步"></a>进程同步</h3><ul>
<li><p>主要任务</p>
<ul>
<li>对多个相关进程在执行次序上进行协调，使并发执行的诸进程之间能按照一定的规则（或时序）共享系统资源，并能很好地相互合作，从而使程序地执行具有可再现性。</li>
</ul>
</li>
<li><p>两种形式的制约关系</p>
<ul>
<li>间接相互制约关系</li>
<li>直接相互制约关系</li>
</ul>
</li>
<li><p>临界资源</p>
</li>
<li><p>临界区</p>
<ul>
<li>在每个进程中访问临界资源的代码</li>
<li>进入区 <br> 临界区 <br> 退出区 <br> 剩余区</li>
</ul>
</li>
<li><p>同步机制应遵循的规则</p>
<ul>
<li>空闲让进</li>
<li>忙则等待</li>
<li>有限等待</li>
<li>让权等待</li>
</ul>
</li>
<li><p>硬件同步机制</p>
<ul>
<li>关中断</li>
<li>TS</li>
<li>Swap 指令</li>
</ul>
</li>
<li><p>信号量（Semaphores）机制</p>
<ul>
<li><p>整型信号量</p>
<ul>
<li>为遵循“让权等待”</li>
</ul>
</li>
<li><p>记录型信号量</p>
</li>
<li><p>AND 型信号量</p>
<ul>
<li>需要多个共享临界资源</li>
</ul>
</li>
<li><p>信号量集</p>
</li>
<li><p>信号量的应用</p>
<ul>
<li>进程互斥</li>
<li>前趋关系</li>
</ul>
</li>
</ul>
</li>
<li><p>管程机制</p>
<ul>
<li><p>信号量需要进程自备同步操作。使得大量的同步操作分散在各个进程中。不仅给系统的管理带来了麻烦，还会因同步操作使用不当而导致系统死锁。</p>
</li>
<li><p>管程的定义</p>
<ul>
<li><p>可以利用共享数据结构抽象地表示系统中的共享资源，并将对该共享数据结构实施的特定操作定义为一组过程。</p>
</li>
<li><p>进程对共享资源的申请、释放和其他操作必须通过这组过程，间接地对共享数据结构实现操作。</p>
</li>
<li><p>对于请求访问共享资源的诸多并发进程，可以根据资源的情况接收或阻塞，确保每次仅有一个进程进入管程，执行这组过程，使用共享资源，达到对共享资源所有访问的统一管理，有效地实现进程互斥。</p>
</li>
<li><p>组成</p>
<ul>
<li>管程名称</li>
<li>局部于管程的共享数据结构说明</li>
<li>对该数据结构进行操作的一组过程</li>
<li>对局部于管程的共享数据设置初始值的语句</li>
</ul>
</li>
</ul>
</li>
<li><p>语言角度的特性</p>
<ul>
<li>模块化</li>
<li>抽象数据类型</li>
<li>信息掩蔽</li>
</ul>
</li>
<li><p>和进程的不同</p>
<ul>
<li>公共数据结构</li>
<li>进程使由顺序程序执行有关操作，管程主要进行同步操作初始化操作</li>
<li>设置进程在于实现系统的并发性，设置管程是解决共享资源的互斥使用问题</li>
<li>进程调用管程的过程，管程为被动工作方式</li>
<li>管程不能于其调用者并发</li>
<li>进程具有动态性，管程则是 OS 中的一个资源管理模块，供进程调用</li>
</ul>
</li>
<li><p>条件变量</p>
</li>
</ul>
</li>
</ul>
<h3 id="经典进程的同步问题"><a href="# 经典进程的同步问题" class="headerlink" title="经典进程的同步问题"></a>经典进程的同步问题 </h3><h3 id="进程通信"><a href="# 进程通信" class="headerlink" title="进程通信"></a> 进程通信</h3><ul>
<li><p>指进程之间的信息交换</p>
</li>
<li><p>互斥与同步</p>
<ul>
<li>效率低</li>
<li>通信对用户不透明</li>
<li>称为低级进程通信</li>
</ul>
</li>
<li><p>高级通信工具的特点</p>
<ul>
<li>使用方便</li>
<li>高效传送大量数据</li>
</ul>
</li>
<li><p>高级通信</p>
<ul>
<li><p>共享存储器系统</p>
<ul>
<li><p>基于共享数据</p>
<ul>
<li>少量数据</li>
<li>效率低下</li>
<li>属于低级通信</li>
</ul>
</li>
<li><p>基于共享存储区</p>
<ul>
<li>由进程负责</li>
</ul>
</li>
</ul>
</li>
<li><p>管道（pipe）通信系统</p>
<ul>
<li><p>需提供以下协调能力</p>
<ul>
<li>互斥</li>
<li>同步</li>
<li>确定对方是否存在</li>
</ul>
</li>
</ul>
</li>
<li><p>消息传递系统</p>
<ul>
<li>直接通信</li>
<li>间接通信</li>
</ul>
</li>
<li><p>C-S 系统</p>
<ul>
<li><p>Socket</p>
<ul>
<li>基于文件型</li>
<li>基于网络型</li>
</ul>
</li>
<li><p>RPC</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>消息传递通信的实现方式</p>
</li>
<li><p>直接消息传递系统实例</p>
</li>
</ul>
<h3 id="线程的基本概念"><a href="# 线程的基本概念" class="headerlink" title="线程的基本概念"></a>线程的基本概念</h3><ul>
<li><p>引入</p>
<ul>
<li><p>引入进程是为了使多个程序能并发执行，以提高资源利用率和系统吞吐量；引入线程则是为了减少程序在并发执行时付出的时空开销，使 OS 具有更好的并发性。</p>
</li>
<li><p>进程的两个基本属性</p>
<ul>
<li>是一个可拥有资源的基本单位</li>
<li>是一个可独立调度和分派的基本单位</li>
</ul>
</li>
<li><p>程序并发执行所需付出的时空开销</p>
<ul>
<li>创建</li>
<li>撤销</li>
<li>切换</li>
</ul>
</li>
<li><p>线程——作为调度和分派的基本单位</p>
</li>
</ul>
</li>
<li><p>比较</p>
<ul>
<li>调度的基本单位</li>
<li>并发性</li>
<li>拥有资源</li>
<li>独立性</li>
<li>系统开销</li>
<li>支持多处理机系统</li>
</ul>
</li>
<li><p>线程的状态和 TCB</p>
<ul>
<li><p>状态</p>
<ul>
<li>执行</li>
<li>就绪</li>
<li>阻塞</li>
</ul>
</li>
<li><p>TCB</p>
<ul>
<li>线程标识符</li>
<li>一组寄存器：PC、状态寄存器和通用寄存器的内容</li>
<li>运行状态</li>
<li>优先级</li>
<li>线程专有存储区</li>
<li>信号屏蔽</li>
<li>堆栈指针</li>
</ul>
</li>
<li><p>多线程 OS 中的进程属性</p>
<ul>
<li>是一个可拥有资源的基本单位</li>
<li>多个线程可并发执行，进程有一个或多个线程</li>
<li>进程已不再是可执行的实体</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="线程的实现"><a href="# 线程的实现" class="headerlink" title="线程的实现"></a>线程的实现</h3><ul>
<li><p>内核支持线程（KST）</p>
<ul>
<li><p>在内核的支持下运行</p>
</li>
<li><p>调度以线程为单位</p>
</li>
<li><p>优点</p>
<ul>
<li>在多处理机系统中，内核支持调度统一进程中的多个线程并行执行</li>
<li>进程中的一个线程阻塞时，内核可以调度该进程中的其他线程占有处理器，或运行其他进程中的线程</li>
<li>具有很小的数据结构和堆栈，线程切换开销小</li>
<li>内核本身也可以采用多线程技术，以提高系统的执行速度和效率</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>对于用户线程，切换开销大</li>
</ul>
</li>
</ul>
</li>
<li><p>用户级线程（ULT）</p>
<ul>
<li><p>在用户空间实现，与内核无关</p>
</li>
<li><p>调度仍以进程为单位</p>
</li>
<li><p>优点</p>
<ul>
<li>切换不需要转换到内核空间</li>
<li>调度算法可以是进程专用的</li>
<li>实现与 OS 平台无关，因为线程管理代码是用户程序的一部分。甚至可以实现在不支持线程机制的 OS 平台 ULT</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>系统调用的阻塞问题。同一进程的其他线程均阻塞</li>
<li>在单纯的 ULT 实现方式中，不能利用多处理机进行多重处理。内核每次分配各一个进程一个 CPU</li>
</ul>
</li>
</ul>
</li>
<li><p>组合方式</p>
<ul>
<li><p>多对一模型</p>
<ul>
<li>开销小</li>
<li>阻塞问题</li>
<li>多处理机问题</li>
</ul>
</li>
<li><p>一对一模型</p>
<ul>
<li>阻塞</li>
<li>多处理机</li>
<li>创建开销大</li>
</ul>
</li>
<li><p>多对多模型</p>
</li>
</ul>
</li>
<li><p>实现</p>
</li>
<li><p>创建和终止</p>
</li>
</ul>
<h2 id="处理机调度与死锁"><a href="# 处理机调度与死锁" class="headerlink" title="处理机调度与死锁"></a>处理机调度与死锁 </h2><h3 id="处理机调度算法的目标"><a href="# 处理机调度算法的目标" class="headerlink" title="处理机调度算法的目标"></a> 处理机调度算法的目标</h3><ul>
<li><p>共同目标</p>
<ul>
<li>资源利用率</li>
<li>公平性</li>
<li>平衡性</li>
<li>策略强制执行</li>
</ul>
</li>
<li><p>批处理系统</p>
<ul>
<li><p>平均周转时间短</p>
<ul>
<li>平均周转时间</li>
<li>平均带权周转时间</li>
</ul>
</li>
<li><p>系统吞吐量高</p>
<ul>
<li>短作业</li>
</ul>
</li>
<li><p>处理机利用率高</p>
<ul>
<li>大作业</li>
</ul>
</li>
</ul>
</li>
<li><p>分时系统</p>
<ul>
<li>响应时间快</li>
<li>均衡性</li>
</ul>
</li>
<li><p>实时系统</p>
<ul>
<li>截止时间的保证</li>
<li>可预测性</li>
</ul>
</li>
</ul>
<h3 id="作业调度"><a href="# 作业调度" class="headerlink" title="作业调度"></a>作业调度</h3><ul>
<li><p>批处理系统中的作业</p>
<ul>
<li>作业</li>
<li>作业步</li>
<li>JCB</li>
<li>三个阶段和状态</li>
</ul>
</li>
<li><p>作业调度的主要任务</p>
<ul>
<li><p>任务</p>
</li>
<li><p>调度时做出决定</p>
<ul>
<li><p>接纳多少个作业</p>
<ul>
<li>取决于多道作业度</li>
</ul>
</li>
<li><p>接纳哪些作业</p>
<ul>
<li>取决于调度算法</li>
</ul>
</li>
</ul>
</li>
<li><p>各系统的不同</p>
</li>
</ul>
</li>
<li><p>调度算法</p>
<ul>
<li><p>先来先服务（FCFS）调度算法</p>
<ul>
<li>与其他调度算法结合使用</li>
</ul>
</li>
<li><p>短作业优先（SJF）调度算法</p>
<ul>
<li><p>缺点</p>
<ul>
<li>须预知作业的运行时间</li>
<li>对长作业不利</li>
<li>无法实现人——机交互</li>
<li>完全为考虑作业的紧迫程度</li>
</ul>
</li>
</ul>
</li>
<li><p>优先级调度算法（PSA）</p>
</li>
<li><p>高响应比优先调度算法（HRRN）</p>
<ul>
<li>既考虑作业的等待时间，又考虑运行时间</li>
<li>Rp = (等待时间 + 要求服务时间) / 要求服务时间<br>= 响应时间 / 要求服务时间</li>
<li>SJF、FCFS、长作业折中</li>
<li>调度前有系统开销</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="进程调度"><a href="# 进程调度" class="headerlink" title="进程调度"></a>进程调度</h3><ul>
<li><p>进程调度</p>
<ul>
<li><p>任务</p>
<ul>
<li>保存处理机现场信息</li>
<li>按某种算法选取进程</li>
<li>把处理机分配给进程</li>
</ul>
</li>
<li><p>机制</p>
</li>
<li><p>方式</p>
<ul>
<li><p>非抢占方式</p>
<ul>
<li><p>引起调度的因素</p>
<ul>
<li>正在执行的进程完毕或无法继续运行</li>
<li>正在执行的进程提出 I/O 请求</li>
<li>进程通信或同步中，执行原语操作</li>
</ul>
</li>
<li><p>实现简单，系统开销小</p>
</li>
<li><p>不适用于分时系统和大多数实时系统</p>
</li>
</ul>
</li>
<li><p>抢占方式</p>
<ul>
<li><p>广泛使用</p>
</li>
<li><p>抢占方式复杂，系统开销大</p>
</li>
<li><p>主要原则</p>
<ul>
<li>优先权原则</li>
<li>短进程优先原则</li>
<li>时间片原则</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>调度算法</p>
<ul>
<li><p>轮转调度算法</p>
</li>
<li><p>优先级调度算法</p>
<ul>
<li>非抢占式和抢占式</li>
<li>静态优先级和动态优先级</li>
</ul>
</li>
<li><p>多队列调度算法</p>
<ul>
<li>多个就绪队列</li>
</ul>
</li>
<li><p>多级反馈队列（multileved feelback queue）调度算法</p>
<ul>
<li>不必事先知道进程所需的执行时间</li>
<li>多级</li>
<li>反馈</li>
<li>性能</li>
</ul>
</li>
<li><p>基于公平原则的调度算法</p>
<ul>
<li><p>保证调度算法</p>
<ul>
<li>针对进程</li>
</ul>
</li>
<li><p>公平共享调度算法</p>
<ul>
<li>针对用户</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="实时调度"><a href="# 实时调度" class="headerlink" title="实时调度"></a>实时调度</h3><ul>
<li><p>基本条件</p>
<ul>
<li><p>提供必要的信息</p>
<ul>
<li>就绪时间</li>
<li>开始截止时间和完成截止时间</li>
<li>处理时间</li>
<li>资源要求</li>
<li>优先级</li>
</ul>
</li>
<li><p>系统处理能力强</p>
<ul>
<li>及时处理</li>
</ul>
</li>
<li><p>采用抢占式调度机制</p>
</li>
<li><p>具有快速切换机制</p>
<ul>
<li>对中断的快速响应能力</li>
<li>快速的任务分派能力</li>
</ul>
</li>
</ul>
</li>
<li><p>调度算法分类</p>
<ul>
<li><p>非抢占式</p>
<ul>
<li>非抢占式轮转调度算法</li>
<li>非抢占式优先调度算法</li>
</ul>
</li>
<li><p>抢占式</p>
<ul>
<li>基于时钟中断</li>
<li>立即抢占</li>
</ul>
</li>
</ul>
</li>
<li><p>调度算法</p>
<ul>
<li><p>最早截止时间优先（EDF）算法</p>
<ul>
<li><p>分抢占式</p>
<ul>
<li>用于非周期实时任务</li>
</ul>
</li>
<li><p>抢占式</p>
<ul>
<li>用于周期实时任务</li>
</ul>
</li>
</ul>
</li>
<li><p>最低松弛度优先（LLF）算法</p>
<ul>
<li>松弛度 = 必须完成时间 - 运行时间 - 当前时间</li>
</ul>
</li>
<li><p>优先级倒置（priority inversion problem）</p>
<ul>
<li>动态优先级继承</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="死锁"><a href="# 死锁" class="headerlink" title="死锁"></a>死锁</h3><ul>
<li><p>资源问题</p>
</li>
<li><p>死锁起因</p>
</li>
<li><p>定义</p>
</li>
<li><p>必要条件</p>
</li>
<li><p>处理方法</p>
<ul>
<li><p>预防死锁</p>
</li>
<li><p>避免死锁</p>
</li>
<li><p>检测死锁</p>
<ul>
<li>死锁的充分条件</li>
</ul>
</li>
<li><p>解除死锁</p>
</li>
</ul>
</li>
</ul>
<h2 id="存储器管理"><a href="# 存储器管理" class="headerlink" title="存储器管理"></a>存储器管理 </h2><h3 id="程序的装入"><a href="# 程序的装入" class="headerlink" title="程序的装入"></a> 程序的装入</h3><ul>
<li><p>绝对装入（Absolute Loading Mode）</p>
<ul>
<li>单道运行</li>
<li>逻辑地址与实际地址相同</li>
</ul>
</li>
<li><p>可重定位装入（Relocation Loading Mode）</p>
<ul>
<li>静态重定位</li>
</ul>
</li>
<li><p>动态运行时装入（Dynamic Run-time Loading）</p>
<ul>
<li>运行中改变位置</li>
</ul>
</li>
</ul>
<h3 id="程序的链接"><a href="# 程序的链接" class="headerlink" title="程序的链接"></a>程序的链接</h3><ul>
<li><p>静态链接（Static Linking）方式</p>
<ul>
<li><p>装配时</p>
<ul>
<li>对相对地址进行修改</li>
<li>变换外部符号引用</li>
</ul>
</li>
</ul>
</li>
<li><p>装入时动态链接（Load-time Dynamic Linking）</p>
<ul>
<li>便于修改和更新</li>
<li>便于实现对目标模块的共享</li>
</ul>
</li>
<li><p>运行时动态链接（Run-time Dynamic Linking）</p>
<ul>
<li>链接推迟到执行时</li>
</ul>
</li>
</ul>
<h3 id="连续分配存储器管理方式"><a href="# 连续分配存储器管理方式" class="headerlink" title="连续分配存储器管理方式"></a>连续分配存储器管理方式</h3><ul>
<li><p>单一连续分配</p>
<ul>
<li>单用户、单任务</li>
</ul>
</li>
<li><p>固定分区分配</p>
<ul>
<li><p>划分分区的方法</p>
<ul>
<li>大小相等</li>
<li>大小不等</li>
</ul>
</li>
<li><p>内存分配</p>
<ul>
<li>分区使用表</li>
</ul>
</li>
<li><p>造成空间浪费。适用于某些控制相同对象的系统</p>
</li>
</ul>
</li>
<li><p>动态分区分配</p>
<ul>
<li><p>数据结构</p>
<ul>
<li>空闲分区表</li>
<li>或空闲分区链</li>
</ul>
</li>
<li><p>分配算法</p>
<ul>
<li><p>基于顺序搜索的动态分区分配算法</p>
<ul>
<li><p>首次适应（FF）算法</p>
<ul>
<li>将空闲分区链以地址递增链接</li>
<li>为大作业分配创造了条件</li>
<li>外零头，增加查找开销</li>
</ul>
</li>
<li><p>循环首次适应（NF）算法</p>
<ul>
<li>使空闲分区更均匀</li>
<li>缺乏大的空闲分区</li>
</ul>
</li>
<li><p>最佳适应（BF）算法</p>
<ul>
<li>将空闲分区按容量小到大形成空闲分区链</li>
<li>留下许多难以利用的碎片</li>
</ul>
</li>
<li><p>最坏适应（WF）算法</p>
<ul>
<li>缺乏大的分区</li>
<li>产生碎片的可能性小</li>
<li>查找效率高</li>
</ul>
</li>
</ul>
</li>
<li><p>基于索引搜索的动态分区分配算法</p>
<ul>
<li><p>快速适应（quick fit）算法</p>
<ul>
<li>容量分类</li>
<li>管理所有表</li>
<li>无碎片</li>
<li>查找效率高</li>
<li>分区归还算法复杂，系统开销大</li>
<li>空间浪费</li>
</ul>
</li>
<li><p>伙伴系统（buddy system）</p>
<ul>
<li>可以多次分割和合并</li>
<li>时间性能比快速适应差</li>
<li>空间性能优于快速适应</li>
</ul>
</li>
<li><p>Hash 算法</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>分配操作</p>
</li>
</ul>
</li>
<li><p>动态可重定位分区分配</p>
<ul>
<li><p>紧凑</p>
</li>
<li><p>动态重定位</p>
</li>
<li><p>分配算法</p>
<ul>
<li>紧凑功能</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="对换"><a href="# 对换" class="headerlink" title="对换"></a>对换 </h3><h3 id="分页存储管理方式"><a href="# 分页存储管理方式" class="headerlink" title="分页存储管理方式"></a> 分页存储管理方式 </h3><h3 id="分段存储管理方式"><a href="# 分段存储管理方式" class="headerlink" title="分段存储管理方式"></a> 分段存储管理方式 </h3><h2 id="虚拟存储器"><a href="# 虚拟存储器" class="headerlink" title="虚拟存储器"></a> 虚拟存储器 </h2><h3 id="常规存储管理方式的特征"><a href="# 常规存储管理方式的特征" class="headerlink" title="常规存储管理方式的特征"></a> 常规存储管理方式的特征</h3><ul>
<li><p>一次性</p>
<ul>
<li>大作用无法运行</li>
<li>无法进一步提高多道程序度</li>
</ul>
</li>
<li><p>驻留性</p>
<ul>
<li>进程阻塞，长期等待</li>
<li>不必要模块</li>
</ul>
</li>
</ul>
<h3 id="局部性原理"><a href="# 局部性原理" class="headerlink" title="局部性原理"></a>局部性原理</h3><ul>
<li><p>在一段较短的时间内，程序的执行仅限于某个部分，相应地，它所访问的存储空间也局限于某个区域。</p>
</li>
<li><p>顺序执行</p>
<ul>
<li>存储单元，空间局限性</li>
</ul>
</li>
<li><p>过程调用</p>
<ul>
<li>调用深度，运行范围局限</li>
</ul>
</li>
<li><p>循环结构</p>
<ul>
<li>再次执行，时间局限性</li>
</ul>
</li>
<li><p>数据结构</p>
<ul>
<li>处理范围局限</li>
</ul>
</li>
</ul>
<h3 id="虚拟存储器的定义和特征"><a href="# 虚拟存储器的定义和特征" class="headerlink" title="虚拟存储器的定义和特征"></a>虚拟存储器的定义和特征</h3><ul>
<li><p>指具有调入功能和置换功能，能从逻辑上对内存容量加以扩充的一种存储器系统。其逻辑容量由内存和外存之和决定，运行速度接近于内存速度，每位成本接近于外存。</p>
</li>
<li><p>多次性</p>
<ul>
<li>多次调入，逻辑上扩充</li>
</ul>
</li>
<li><p>对换性</p>
<ul>
<li>换进换出，提高利用率</li>
</ul>
</li>
<li><p>虚拟性</p>
<ul>
<li><p>逻辑容量</p>
<ul>
<li>大作业</li>
<li>多道程序度</li>
</ul>
</li>
<li><p>内存利用率</p>
</li>
<li><p>并发程度</p>
<ul>
<li>系统吞吐量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="分页请求系统"><a href="# 分页请求系统" class="headerlink" title="分页请求系统"></a>分页请求系统</h3><ul>
<li><p>是在分页系统的基础上增加了请求调页功能和页面置换功能所形成的页式虚拟存储系统</p>
</li>
<li><p>实现方法</p>
<ul>
<li><p>离散分配存储管理方式</p>
</li>
<li><p>硬件支持</p>
<ul>
<li>请求分页的页表机制</li>
<li>缺页中断机构</li>
<li>地址变换机构</li>
</ul>
</li>
<li><p>请求分页的软件</p>
<ul>
<li>请求调页</li>
<li>页面置换</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="请求分页存储管理方式"><a href="# 请求分页存储管理方式" class="headerlink" title="请求分页存储管理方式"></a>请求分页存储管理方式</h3><ul>
<li><p>硬件支持</p>
<ul>
<li><p>请求页表机制</p>
<ul>
<li>状态位 P</li>
<li>访问字段 A</li>
<li>修改位 M</li>
<li>外存地址</li>
</ul>
</li>
<li><p>缺页中断机构</p>
<ul>
<li>缺页中断在指令执行期间产生和处理中断信号</li>
<li>一条指令在执行期间可产生多次缺页中断</li>
</ul>
</li>
<li><p>地址变换机构</p>
</li>
</ul>
</li>
<li><p>内存分配</p>
<ul>
<li><p>最小物理块数</p>
</li>
<li><p>内存分配策略</p>
<ul>
<li><p>固定分配局部置换</p>
<ul>
<li>物理块数难以确定</li>
</ul>
</li>
<li><p>可变分配全局置换</p>
<ul>
<li>易于实现</li>
<li>可能影响其他进程</li>
</ul>
</li>
<li><p>可变分配局部置换</p>
</li>
</ul>
</li>
<li><p>物理块分配算法</p>
<ul>
<li>平均分配</li>
<li>按比例分配</li>
<li>考虑优先权</li>
</ul>
</li>
</ul>
</li>
<li><p>调入策略</p>
<ul>
<li><p>何时调入页面</p>
<ul>
<li>预调页策略</li>
<li>请求调页策略</li>
</ul>
</li>
<li><p>从何处调入页面</p>
<ul>
<li><p>对换区</p>
<ul>
<li>足够对换空间</li>
</ul>
</li>
<li><p>文件区</p>
<ul>
<li>缺少对换空间</li>
</ul>
</li>
<li><p>UNIX 方式</p>
<ul>
<li>凡未运行过的页面均从文件区调页</li>
<li>运行过的页面和换出的页面均从对换区调页</li>
</ul>
</li>
</ul>
</li>
<li><p>页面调入过程</p>
</li>
<li><p>缺页率</p>
</li>
</ul>
</li>
</ul>
<h3 id="页面置换算法"><a href="# 页面置换算法" class="headerlink" title="页面置换算法"></a>页面置换算法</h3><ul>
<li><p>最佳（Optimal）置换算法</p>
<ul>
<li>理论上的</li>
</ul>
</li>
<li><p>FIFO 页面置换算法</p>
</li>
<li><p>最近最久未使用（LRU）置换算法</p>
<ul>
<li><p>“向前看”近似将来</p>
</li>
<li><p>硬件支持</p>
<ul>
<li>寄存器</li>
<li>栈</li>
</ul>
</li>
</ul>
</li>
<li><p>最少使用（LFU）置换算法</p>
<ul>
<li>记录时间间隔内的使用</li>
</ul>
</li>
<li><p>Clock 置换算法</p>
<ul>
<li><p>LRU 的近似算法</p>
</li>
<li><p>简单的 Clock 置换算法</p>
<ul>
<li>为每页设置访问位，将内存页面链接成循环队列</li>
<li>最近未使用算法或 NRU 算法</li>
</ul>
</li>
<li><p>改进型 Clock 置换算法</p>
<ul>
<li>增加修改位</li>
</ul>
</li>
</ul>
</li>
<li><p>页面缓冲算法（PBA）</p>
<ul>
<li><p>影响页面换进换出效率的若干因素</p>
<ul>
<li>页面置换算法</li>
<li>写回磁盘的频率</li>
<li>读入内存的频率</li>
</ul>
</li>
<li><p>PBA</p>
<ul>
<li><p>显著降低了页面换进、换出的频率</p>
</li>
<li><p>可采用较简单的置换策略，如 FIFO，它不需要特殊硬件支持</p>
</li>
<li><p>VAX/VMS OS</p>
<ul>
<li>可变分配局部置换</li>
<li>空闲页面链表</li>
<li>修改页面链表</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>访问内存的有效时间</p>
</li>
</ul>
<h3 id="“抖动”与工作集"><a href="#“抖动”与工作集" class="headerlink" title="“抖动”与工作集"></a>“抖动”与工作集</h3><ul>
<li><p>多道程序度和处理机的利用率</p>
</li>
<li><p>产生“抖动”的原因</p>
</li>
<li><p>工作集</p>
<ul>
<li><p>基本概念</p>
</li>
<li><p>定义</p>
<ul>
<li>指在某段时间间隔里，进程实际所要访问页面的集合。</li>
</ul>
</li>
</ul>
</li>
<li><p>“抖动”的预防方法</p>
<ul>
<li><p>采取局部置换策略</p>
<ul>
<li>把“抖动”的影响限制在较小的范围，效果不是很好</li>
</ul>
</li>
<li><p>把工作集算法融入到处理机调度中</p>
<ul>
<li>调入作业之前，检查每个进程在内存的驻留页面是否足够多</li>
</ul>
</li>
<li><p>利用“L = S”准则调节缺页率</p>
</li>
<li><p>选择暂停的进程</p>
<ul>
<li>优先级低的</li>
<li>不十分重要，但较大的</li>
<li>剩余执行时间最多的</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="输入输出系统"><a href="# 输入输出系统" class="headerlink" title="输入输出系统"></a>输入输出系统</h2><h3 id="I-O 系统的功能、模型和接口"><a href="#I-O 系统的功能、模型和接口" class="headerlink" title="I/O 系统的功能、模型和接口"></a>I/O 系统的功能、模型和接口</h3><ul>
<li><p>管理的主要对象</p>
<ul>
<li>I/O 设备</li>
<li>相应的设备管理器</li>
<li>I/O 通道</li>
</ul>
</li>
<li><p>最主要的任务</p>
<ul>
<li>完成用户提出的 I/O 请求</li>
<li>提高 I/O 速率</li>
<li>提高设备的利用率</li>
<li>并能为更高层的进程方便地使用这些设备提供手段</li>
</ul>
</li>
<li><p>基本功能</p>
<ul>
<li><p>隐藏物理设备的细节</p>
<ul>
<li>设备差异</li>
<li>需要的命令和参数</li>
</ul>
</li>
<li><p>与设备的无关性</p>
<ul>
<li>用户使用 I/O 抽象命令、逻辑设备名</li>
<li>提高 OS 的可移植性和易适应性</li>
</ul>
</li>
<li><p>提高处理机和 I/O 设备的利用率</p>
<ul>
<li><p>处理机和 I/O 设备并行工作</p>
<ul>
<li>快速响应用户请求，使 I/O 设备运行起来</li>
<li>减少 I/O 设备运行时处理机的干预时间</li>
</ul>
</li>
</ul>
</li>
<li><p>对 I/O 设备进行控制</p>
<ul>
<li><p>驱动程序</p>
<ul>
<li>四种控制方式</li>
</ul>
</li>
<li><p>I/O 软件应屏蔽方式的差异</p>
</li>
</ul>
</li>
<li><p>确保对设备的正确共享</p>
<ul>
<li>独占设备和共享设备</li>
</ul>
</li>
<li><p>错误处理</p>
<ul>
<li>临时性和持久性</li>
</ul>
</li>
</ul>
</li>
<li><p>层次结构和模型</p>
</li>
<li><p>I/O 系统接口</p>
</li>
</ul>
<h3 id="I-O 设备和设备控制器"><a href="#I-O 设备和设备控制器" class="headerlink" title="I/O 设备和设备控制器"></a>I/O 设备和设备控制器</h3><ul>
<li><p>I/O 设备</p>
<ul>
<li>类型</li>
<li>设备与设备控制器之间的接口</li>
</ul>
</li>
<li><p>设备控制器</p>
</li>
<li><p>内存映像 I/O</p>
</li>
<li><p>I/O 通道</p>
</li>
</ul>
<h3 id="中断机构和中断处理程序"><a href="# 中断机构和中断处理程序" class="headerlink" title="中断机构和中断处理程序"></a>中断机构和中断处理程序</h3><ul>
<li>中断简介</li>
<li>中断处理程序</li>
</ul>
<h3 id="设备驱动程序"><a href="# 设备驱动程序" class="headerlink" title="设备驱动程序"></a>设备驱动程序</h3><ul>
<li><p>概述</p>
</li>
<li><p>处理过程</p>
<ul>
<li>将抽象 I/O 请求转换为具体要求，发送给设备控制器，或相反</li>
</ul>
</li>
<li><p>对 I/O 设备的控制方式</p>
<ul>
<li><p>使用轮询的可编程 I/O 方式（程序 I/O）</p>
<ul>
<li>CPU 种无中断机构</li>
</ul>
</li>
<li><p>使用中断的可编程 I/O 方式</p>
<ul>
<li>数据寄存器</li>
</ul>
</li>
<li><p>直接存储器（DMA）访问</p>
<ul>
<li>数据块</li>
</ul>
</li>
<li><p>I/O 通道（IOP）控制方式</p>
<ul>
<li>一组数据块</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="与设备无关的 I-O 软件"><a href="# 与设备无关的 I-O 软件" class="headerlink" title="与设备无关的 I/O 软件"></a>与设备无关的 I/O 软件</h3><ul>
<li><p>基本概念</p>
</li>
<li><p>与设备无关的软件</p>
<ul>
<li>数据粒度</li>
</ul>
</li>
<li><p>设备分配</p>
</li>
<li><p>映射实现</p>
</li>
</ul>
<h3 id="用户层的 I-O 软件"><a href="# 用户层的 I-O 软件" class="headerlink" title="用户层的 I/O 软件"></a>用户层的 I/O 软件</h3><ul>
<li><p>系统调用和库函数</p>
</li>
<li><p>假脱机（Spooling）系统</p>
<ul>
<li><p>假脱机技术</p>
<ul>
<li>外围控制机</li>
<li>联机实现</li>
</ul>
</li>
<li><p>SPOOLing 的组成</p>
<ul>
<li><p>建立在通道技术和多道程序技术的基础上</p>
</li>
<li><p>以高速随机外存（磁盘）为后援存储器</p>
</li>
<li><p>构成</p>
<ul>
<li>输入井和输出井</li>
<li>输入缓冲区和输出缓冲区</li>
<li>输入进程和输出进程</li>
<li>井管理程序</li>
</ul>
</li>
</ul>
</li>
<li><p>SPOOLing 系统的特点</p>
</li>
<li><p>假脱机打印机系统</p>
</li>
<li><p>守护进程（daemon）</p>
</li>
</ul>
</li>
</ul>
<h3 id="缓冲区管理"><a href="# 缓冲区管理" class="headerlink" title="缓冲区管理"></a>缓冲区管理 </h3><h3 id="磁盘存储器的性能和调度"><a href="# 磁盘存储器的性能和调度" class="headerlink" title="磁盘存储器的性能和调度"></a> 磁盘存储器的性能和调度</h3><ul>
<li><p>提高磁盘系统的性能的方式</p>
<ul>
<li>调度算法，减少寻道时间</li>
<li>提高 I/O 速度，提高对文件的访问速度</li>
<li>冗余技术，提高可靠性</li>
</ul>
</li>
<li><p>磁盘性能简述</p>
</li>
<li><p>调度算法</p>
<ul>
<li><p>先来先服务 FCFS</p>
<ul>
<li>请求进程少时</li>
</ul>
</li>
<li><p>最短寻道时间优先 SSTF</p>
<ul>
<li>不能保证平均寻道时间最短</li>
</ul>
</li>
<li><p>扫描（SCAN）算法</p>
<ul>
<li>考虑磁头移动方向</li>
<li>避免了“饥饿”现象</li>
<li>电梯调度算法</li>
</ul>
</li>
<li><p>循环扫描（CSCAN）算法</p>
<ul>
<li>减少延迟（越过请求）</li>
</ul>
</li>
<li><p>NStepSCAN 算法</p>
<ul>
<li>避免“磁臂粘着”现象</li>
</ul>
</li>
<li><p>FSCAN 算法</p>
</li>
</ul>
</li>
</ul>
<h2 id="文件管理"><a href="# 文件管理" class="headerlink" title="文件管理"></a>文件管理 </h2><h3 id="文件和文件系统"><a href="# 文件和文件系统" class="headerlink" title="文件和文件系统"></a> 文件和文件系统</h3><ul>
<li><p>FS 层次结构</p>
<ul>
<li><p>对象及其属性</p>
<ul>
<li>文件</li>
<li>目录</li>
<li>磁盘（磁带）存储空间</li>
</ul>
</li>
<li><p>对对象操纵和管理的软件集合</p>
<ul>
<li><p>文件管理系统的核心部分</p>
<ul>
<li>对文件存储空间的管理</li>
<li>对文件目录的管理</li>
<li>用于将文件的逻辑地址转换为物理地址的机制</li>
<li>对文件读和写的管理</li>
<li>对文件的共享和保护等功能</li>
</ul>
</li>
<li><p>与 FS 有关的软件分为四个层次</p>
<ul>
<li>I/O 控制层</li>
<li>基本文件系统层</li>
<li>基本 I/O 管理程序</li>
<li>逻辑文件系统</li>
</ul>
</li>
</ul>
</li>
<li><p>文件系统接口</p>
<ul>
<li>命令接口</li>
<li>程序接口</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="文件的逻辑结构"><a href="# 文件的逻辑结构" class="headerlink" title="文件的逻辑结构"></a>文件的逻辑结构</h3><ul>
<li><p>逻辑结构类型</p>
<ul>
<li><p>是否有结构</p>
<ul>
<li><p>有结构文件</p>
<ul>
<li>定长记录</li>
<li>变长记录</li>
</ul>
</li>
<li><p>无结构文件</p>
<ul>
<li>流式文件</li>
</ul>
</li>
</ul>
</li>
<li><p>组织方式</p>
<ul>
<li><p>顺序文件</p>
<ul>
<li>存取效率</li>
<li>顺序存储设备</li>
<li>查找开销大</li>
<li>增删记录</li>
</ul>
</li>
<li><p>索引文件</p>
</li>
<li><p>索引顺序文件</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>直接文件和 Hash 文件</p>
</li>
</ul>
<h3 id="文件目录"><a href="# 文件目录" class="headerlink" title="文件目录"></a>文件目录</h3><ul>
<li><p>目录管理要求</p>
<ul>
<li>“按名存取”</li>
<li>提高对目录的检索速度</li>
<li>文件共享</li>
<li>允许文件重命名</li>
</ul>
</li>
<li><p>FCB 和索引结点</p>
<ul>
<li><p>文件目录：FCB 的有序集合。目录文件</p>
</li>
<li><p>FCB</p>
</li>
<li><p>索引结点</p>
<ul>
<li>减少目录占用盘块</li>
</ul>
</li>
</ul>
</li>
<li><p>简单文件目录</p>
<ul>
<li>单级</li>
<li>两级</li>
</ul>
</li>
<li><p>树形文件目录</p>
</li>
<li><p>目录查询技术</p>
</li>
</ul>
<h3 id="文件共享"><a href="# 文件共享" class="headerlink" title="文件共享"></a>文件共享</h3><ul>
<li><p>DAG 目录</p>
<ul>
<li>不能共享新增的内容</li>
</ul>
</li>
<li><p>利用索引结点（硬链接）</p>
<ul>
<li>删除不便</li>
</ul>
</li>
<li><p>利用符号链接（Symbolic Linking）（软链接）</p>
<ul>
<li>访问删除文件时，删除符号链</li>
<li>会造成多次读盘</li>
<li>符号链占用索引结点</li>
</ul>
</li>
</ul>
<h3 id="文件保护"><a href="# 文件保护" class="headerlink" title="文件保护"></a>文件保护</h3><ul>
<li><p>影响文件安全性的主要因素</p>
</li>
<li><p>采取措施</p>
</li>
<li><p>保护域</p>
</li>
<li><p>访问矩阵</p>
</li>
<li><p>访问矩阵的修改</p>
</li>
<li><p>访问矩阵的实现</p>
<ul>
<li><p>访问控制表（Access Control List）</p>
<ul>
<li>按列（对象）划分</li>
</ul>
</li>
<li><p>访问权限（Capabilities）表</p>
<ul>
<li>按行（域）划分</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="磁盘存储器管理"><a href="# 磁盘存储器管理" class="headerlink" title="磁盘存储器管理"></a>磁盘存储器管理 </h2><h3 id="对磁盘存储器管理的主要任务和要求"><a href="# 对磁盘存储器管理的主要任务和要求" class="headerlink" title="对磁盘存储器管理的主要任务和要求"></a> 对磁盘存储器管理的主要任务和要求</h3><ul>
<li>有效地利用存储空间</li>
<li>提高磁盘的 I/O 速度</li>
<li>提高磁盘系统的可靠性</li>
</ul>
<h3 id="外存的组织形式"><a href="# 外存的组织形式" class="headerlink" title="外存的组织形式"></a>外存的组织形式</h3><ul>
<li><p>连续组织方式</p>
<ul>
<li><p>目录</p>
<ul>
<li>file</li>
<li>start</li>
<li>length</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li>顺序访问容易</li>
<li>顺序访问速度快</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>外部碎片</li>
<li>事先知道文件长度</li>
<li>灵活插入和删除数据</li>
<li>动态增长</li>
</ul>
</li>
</ul>
</li>
<li><p>链接组织方式</p>
<ul>
<li><p>优点</p>
<ul>
<li>消除外部碎片</li>
<li>插入、删除、修改记录</li>
<li>动态增长</li>
</ul>
</li>
<li><p>隐式链接</p>
<ul>
<li><p>目录</p>
<ul>
<li>file</li>
<li>start</li>
<li>last</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>随机访问低效</li>
<li>可靠性</li>
<li>可按簇分配，但增大了内部碎片</li>
</ul>
</li>
</ul>
</li>
<li><p>显示链接</p>
<ul>
<li><p>FAT 表（File Allocation Table）</p>
</li>
<li><p>FAT 技术</p>
</li>
<li><p>NTFS 的文件组织方式</p>
<ul>
<li>簇为单位，块大小的无关性</li>
<li>卷为单位，MFT</li>
</ul>
</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li>提高了检索速度</li>
<li>减少了访问磁盘的次数</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>不支持高效直接存取</li>
<li>FAT 需要较大内存</li>
</ul>
</li>
</ul>
</li>
<li><p>索引组织方式</p>
<ul>
<li><p>单级索引组织方式</p>
<ul>
<li><p>只将某个文件的盘块号调入内存</p>
</li>
<li><p>将每个文件的盘块号集中放在一起，即索引块（表）</p>
</li>
<li><p>目录</p>
<ul>
<li>file</li>
<li>索引块号</li>
</ul>
</li>
<li><p>优点</p>
<ul>
<li>支持直接访问</li>
<li>无外部碎片</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>对于中、小型文件，索引块利用率低</li>
</ul>
</li>
</ul>
</li>
<li><p>多级索引组织方式</p>
<ul>
<li><p>优点</p>
<ul>
<li>避免索引块过多</li>
<li>加快了大型文件的查找速度</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>启动磁盘的次数和级数有关，不利于小文件</li>
</ul>
</li>
</ul>
</li>
<li><p>增量式索引组织方式</p>
</li>
</ul>
</li>
</ul>
<h3 id="文件存储空间的管理"><a href="# 文件存储空间的管理" class="headerlink" title="文件存储空间的管理"></a>文件存储空间的管理</h3><ul>
<li><p>引入</p>
<ul>
<li><p>文件所占盘块</p>
<ul>
<li>文件分配表</li>
</ul>
</li>
<li><p>可分配存储空间</p>
<ul>
<li>磁盘分配表（Disk Allocation Table）</li>
</ul>
</li>
<li><p>盘块分配和回收的手段</p>
</li>
</ul>
</li>
<li><p>空闲表法</p>
<ul>
<li>连续分配</li>
<li>分配速度高，减少 I/O 频率</li>
<li>用于对换空间和较小文件</li>
</ul>
</li>
<li><p>空闲链表法</p>
<ul>
<li>空闲盘块链</li>
<li>空闲盘区链</li>
</ul>
</li>
<li><p>位示图法</p>
<ul>
<li>NTFS</li>
</ul>
</li>
<li><p>成组链接法</p>
<ul>
<li><p>适用于大型文件系统</p>
</li>
<li><p>避免空闲表或空闲链表过长，将其结合</p>
</li>
<li><p>空闲盘块栈</p>
<ul>
<li>文件卷</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="提高 I-O 速度的途径"><a href="# 提高 I-O 速度的途径" class="headerlink" title="提高 I/O 速度的途径"></a>提高 I/O 速度的途径</h3><ul>
<li><p>改进文件的目录结构以及检索目录的方法，来减少对目录的查找时间</p>
<ul>
<li>索引结点</li>
<li>当前目录</li>
<li>多级目录</li>
</ul>
</li>
<li><p>选取好的文件存储结构，以提高对文件的访问速度</p>
<ul>
<li>顺序存储结构</li>
<li>索引结构</li>
</ul>
</li>
<li><p>提高磁盘的 I/O 速度，能将文件中的数据快速地从磁盘传送到内存中，或者相反</p>
<ul>
<li><p>磁盘高速缓存</p>
<ul>
<li>减少磁盘的启动次数</li>
</ul>
</li>
<li><p>提前读</p>
</li>
<li><p>延迟写</p>
</li>
<li><p>优化物理块的分布</p>
</li>
<li><p>虚拟盘</p>
</li>
<li><p>调度算法</p>
</li>
<li><p>RAID</p>
</li>
</ul>
</li>
<li><p>RAID</p>
</li>
</ul>
<h3 id="提高磁盘可靠性的技术"><a href="# 提高磁盘可靠性的技术" class="headerlink" title="提高磁盘可靠性的技术"></a>提高磁盘可靠性的技术 </h3><h3 id="数据一致性控制"><a href="# 数据一致性控制" class="headerlink" title="数据一致性控制"></a> 数据一致性控制</h3><ul>
<li><p>事务</p>
</li>
<li><p>检查点</p>
</li>
<li><p>并发控制</p>
</li>
<li><p>重复数据的数据一致性问题</p>
<ul>
<li><p>重复文件的一致性</p>
<ul>
<li>查找文件目录，获得其拷贝的索引结点号，修改文件</li>
<li>为新文件新建几个拷贝，取代原来的文件拷贝</li>
</ul>
</li>
<li><p>链接数一致性检查</p>
<ul>
<li>计数器表</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="小节"><a href="# 小节" class="headerlink" title="小节"></a>小节 </h2><h3 id="提高内存利用率的方法"><a href="# 提高内存利用率的方法" class="headerlink" title="提高内存利用率的方法"></a> 提高内存利用率的方法</h3><ul>
<li><p>整体对换（中级调度）</p>
</li>
<li><p>拼接（紧凑）</p>
</li>
<li><p>运行时动态链接</p>
</li>
<li><p>单一连续</p>
<ul>
<li><p>分区（多道批处理）</p>
<ul>
<li>分页 / 分段</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="SPOOLing 的工作原理"><a href="#SPOOLing 的工作原理" class="headerlink" title="SPOOLing 的工作原理"></a>SPOOLing 的工作原理 </h3><h3 id="提高 I-O 速度的途径 -1"><a href="# 提高 I-O 速度的途径 -1" class="headerlink" title="提高 I/O 速度的途径"></a> 提高 I/O 速度的途径 </h3><h3 id="算法"><a href="# 算法" class="headerlink" title="算法"></a> 算法</h3><ul>
<li>作业调度（四种）</li>
<li>进程调度（四 - 六种）</li>
<li>实时调度（三 - 八种）</li>
<li>避免死锁（一种）</li>
<li>动态分区分配算法（七种）</li>
<li>页面置换算法（六 - 七种）</li>
<li>磁盘调度算法（六种）</li>
</ul>
<h3 id="通过虚拟地址访问内存的优势"><a href="# 通过虚拟地址访问内存的优势" class="headerlink" title="通过虚拟地址访问内存的优势"></a>通过虚拟地址访问内存的优势</h3><ul>
<li>A program can use a contiguous range of virtual addresses to access a large memory buffer that is not contiguous in physical memory.</li>
<li>A program can use a range of virtual addresses to access a memory buffer that is larger than the available physical memory. As the supply of physical memory becomes small, the memory manager saves pages of physical memory (typically 4 kilobytes in size) to a disk file. Pages of data or code are moved between physical memory and the disk as needed.</li>
<li>The virtual addresses used by different processes are isolated from each other. The code in one process cannot alter the physical memory that is being used by another process or the operating system.</li>
</ul>
<p><em>XMind - Trial Version</em></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">sleepingraven</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://sleepingraven.github.io/notes/ji-suan-ji-cao-zuo-xi-tong/">https://sleepingraven.github.io/notes/ji-suan-ji-cao-zuo-xi-tong/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">sleepingraven</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/computer/">
                                    <span class="chip bg-color">计算机</span>
                                </a>
                            
                                <a href="/tags/operating-system/">
                                    <span class="chip bg-color">操作系统</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/reward/shou-dao.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/reward/liao-jie.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    
        <style>
    .twikoo-card {
        margin: 1.5rem auto;
    }

    .twikoo-card .card-content {
        padding: 20px;
    }

    #tcomments textarea {
        box-sizing: border-box;
        background: url("/") 100% 100% no-repeat;
    }

    #tcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #tcomments blockquote p {
        text-indent: 0.2rem;
    }

    #tcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #tcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #tcomments ol li {
        list-style-type: decimal;
    }

    #tcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #tcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #tcomments ul li {
        list-style-type: disc;
    }

    #tcomments ul ul li {
        list-style-type: circle;
    }

    #tcomments table,
    th,
    td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #tcomments table,
    th,
    td {
        border: 0;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #fafafa;
    }

    #tcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #tcomments table td {
        min-width: 80px;
    }

    #tcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #tcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #tcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #tcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #tcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #tcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #tcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #tcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #tcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #tcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #tcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #tcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #tcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #tcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #tcomments [type="checkbox"]:not(:checked),
    [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #tcomments b,
    strong {
        font-weight: bold;
    }

    #tcomments dfn {
        font-style: italic;
    }

    #tcomments small {
        font-size: 85%;
    }

    #tcomments cite {
        font-style: normal;
    }

    #tcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #tcomments table,
    th,
    td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n),
    thead {
        background-color: #fafafa;
    }

    #tcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #tcomments table td {
        min-width: 80px;
    }

    #tcomments [type="checkbox"]:not(:checked),
    [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card twikoo-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div class="card-content" style="display: grid">
        <div id="tcomments"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pageshttps://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js"></script>
<script>
    twikoo.init({
        envId: 'base-1-2g49rp3dc92a16bd',
        el: '#tcomments',
        region: '',
        path: ''
    }).then(function () {
        var tkInputs = document.querySelector('#twikoo').getElementsByTagName('input');
        for (var tkInputsIndex = 0; tkInputsIndex < tkInputs.length; tkInputsIndex++) {
            if (tkInputs[tkInputsIndex]) {
                tkInputs[tkInputsIndex].classList.add('browser-default');
            }
        }
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/notes/yun-ji-suan-yu-da-shu-ju-gai-lun/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/featureimages/18.jpg" class="responsive-img" alt="云计算与大数据概论">
                        
                        <span class="card-title">云计算与大数据概论</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            云计算与大数据知识点
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-01-21
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/notes/" class="post-category">
                                    笔记
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/big-data/">
                        <span class="chip bg-color">大数据</span>
                    </a>
                    
                    <a href="/tags/cloud-computing/">
                        <span class="chip bg-color">云计算</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/document/ascii-bian-ma-yi-lan-biao/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/medias/featureimages/18.jpg" class="responsive-img" alt="ASCII 编码一览表">
                        
                        <span class="card-title">ASCII 编码一览表</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ASCII编码一览表
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-01-21
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/document/" class="post-category">
                                    文档
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/internet-technology/">
                        <span class="chip bg-color">IT</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">sleepingraven</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">35.6k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2021";
                    var startMonth = "1";
                    var startDate = "21";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/sleepingraven" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:spgrvn@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="https://cdn.jsdelivr.net/gh/sleepingraven/sleepingraven.github.io@gh-pages/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
